From 773bdc233434ab0a52ba1a712b13088c36144edd Mon Sep 17 00:00:00 2001
From: Joshua Strobl <joshua@stroblindustries.com>
Date: Wed, 10 May 2017 23:24:04 +0300
Subject: [PATCH 1/1] Revert "listbox: Properly remove placeholders"

This reverts commit b7fdc5b447b44b5b7638a3ac41cac58136bc5ca2.
---
 gtk/gtklistbox.c | 12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

diff --git a/gtk/gtklistbox.c b/gtk/gtklistbox.c
index 2bc6bfde43..f16e02aff8 100644
--- a/gtk/gtklistbox.c
+++ b/gtk/gtklistbox.c
@@ -2451,16 +2451,6 @@ gtk_list_box_remove (GtkContainer *container,
 
   was_visible = gtk_widget_get_visible (child);
 
-  if (child == priv->placeholder)
-    {
-      gtk_widget_unparent (child);
-      priv->placeholder = NULL;
-      if (was_visible && gtk_widget_get_visible (widget))
-        gtk_widget_queue_resize (widget);
-
-      return;
-    }
-
   if (!GTK_IS_LIST_BOX_ROW (child))
     {
       row = g_hash_table_lookup (priv->header_hash, child);
@@ -2542,7 +2532,7 @@ gtk_list_box_forall (GtkContainer *container,
   GSequenceIter *iter;
   GtkListBoxRow *row;
 
-  if (priv->placeholder != NULL)
+  if (priv->placeholder != NULL && include_internals)
     callback (priv->placeholder, callback_target);
 
   iter = g_sequence_get_begin_iter (priv->children);
-- 
2.12.2

